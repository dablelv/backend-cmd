(window.webpackJsonp=window.webpackJsonp||[]).push([[219],{550:function(a,t,s){"use strict";s.r(t);var e=s(12),r=Object(e.a)({},(function(){var a=this,t=a._self._c;return t("ContentSlotsDistributor",{attrs:{"slot-key":a.$parent.slotKey}},[t("h2",{attrs:{id:"_1-命令简介"}},[t("a",{staticClass:"header-anchor",attrs:{href:"#_1-命令简介"}},[a._v("#")]),a._v(" 1.命令简介")]),a._v(" "),t("p",[a._v("nmap（Network Mapper）是一个开源的网络探测和安全扫描程序。")]),a._v(" "),t("p",[a._v("nmap 的设计目标是快速地扫描大型网络，当然用它扫描单个主机也没有问题。nmap 以新颖的方式使用原始 IP 报文来发现网络上有哪些主机，这些主机提供什么服务（应用程序名和版本），这些服务运行在什么操作系统（包括版本信息）， 它们使用什么类型的报文过滤器/防火墙，以及一堆其它功能。虽然 nmap 通常用于安全审核，许多系统管理员和网络管理员也用它来做一些日常工作，比如查看整个网络的信息，管理服务升级计划，以及监视主机和服务的运行。")]),a._v(" "),t("p",[a._v("nmap 输出的是一个被扫描的目标列表，以及每个目标根据不同选项输出的不同补充信息。“interesting ports table”是这些信息中的关键，这张表列出端口号、协议、服务名称和状态，状态可能是 open（开放的），filtered（被过滤的）， closed（关闭的），或者 unfiltered（未被过滤的）。 open 表示目标机器上的应用程序正在该端口监听连接/报文。 filtered 意味着防火墙，过滤器或者其它网络障碍阻止了该端口被访问，nmap 无法得知它的状态是 open 还是 closed。 closed 端口没有应用程序在它上面监听，但是他们随时可能开放。 当端口对 nmap 的探测做出响应，但是 nmap 无法确定它们是关闭还是开放时，这些端口就被认为是 unfiltered。如果 nmap 报告状态组合 open|filtered 和 closed|filtered 时，那说明 nmap 无法确定该端口处于两个状态中的哪一个状态。 当要求进行版本探测时，端口表也可以包含软件的版本信息。当要求进行 IP 协议扫描时 (-sO)，nmap 提供关于所支持的 IP 协议而不是正在监听的端口的信息。")]),a._v(" "),t("p",[a._v("除了“interesting ports table”，nmap 还能提供关于目标的进一步信息，包括反向域名，操作系统猜测，设备类型，和 MAC 地址。")]),a._v(" "),t("p",[a._v("nmap 的常用功能有：\n（1）探测一组主机是否在线；\n（2）扫描主机端口，嗅探所提供的网络服务；\n（3）推断主机所用的操作系统。")]),a._v(" "),t("h2",{attrs:{id:"_2-命令格式"}},[t("a",{staticClass:"header-anchor",attrs:{href:"#_2-命令格式"}},[a._v("#")]),a._v(" 2.命令格式")]),a._v(" "),t("div",{staticClass:"language-shell extra-class"},[t("pre",{pre:!0,attrs:{class:"language-shell"}},[t("code",[a._v("nmap "),t("span",{pre:!0,attrs:{class:"token punctuation"}},[a._v("[")]),a._v("SCAN_TYPE"),t("span",{pre:!0,attrs:{class:"token punctuation"}},[a._v("..")]),a._v("."),t("span",{pre:!0,attrs:{class:"token punctuation"}},[a._v("]")]),a._v(" "),t("span",{pre:!0,attrs:{class:"token punctuation"}},[a._v("[")]),a._v("OPTIONS"),t("span",{pre:!0,attrs:{class:"token punctuation"}},[a._v("]")]),a._v(" "),t("span",{pre:!0,attrs:{class:"token punctuation"}},[a._v("{")]),a._v("target specification"),t("span",{pre:!0,attrs:{class:"token punctuation"}},[a._v("}")]),a._v("\n")])])]),t("h2",{attrs:{id:"_3-选项说明"}},[t("a",{staticClass:"header-anchor",attrs:{href:"#_3-选项说明"}},[a._v("#")]),a._v(" 3.选项说明")]),a._v(" "),t("p",[a._v("当 nmap 不带选项运行时，下面的选项概要会被输出。它帮助人们记住最常用的选项，但不能替代本手册其余深入的文档，一些晦涩的选项甚至不在这里。最新的选项概要可以在 https://nmap.org/data/nmap.usage.txt 查看。")]),a._v(" "),t("h3",{attrs:{id:"target-specification"}},[t("a",{staticClass:"header-anchor",attrs:{href:"#target-specification"}},[a._v("#")]),a._v(" TARGET SPECIFICATION")]),a._v(" "),t("p",[a._v("可以传递主机名、IP地址、网络等。")]),a._v(" "),t("div",{staticClass:"language-shell extra-class"},[t("pre",{pre:!0,attrs:{class:"language-shell"}},[t("code",[t("span",{pre:!0,attrs:{class:"token parameter variable"}},[a._v("-iL")]),a._v(" "),t("span",{pre:!0,attrs:{class:"token operator"}},[a._v("<")]),a._v("inputfilename"),t("span",{pre:!0,attrs:{class:"token operator"}},[a._v(">")]),a._v("\n\t从指定文件中读取扫描的目标。在这个文件中要有一个主机或者网络的列表，由空格键、制表键或者回车键作为分割符。如果使用 "),t("span",{pre:!0,attrs:{class:"token parameter variable"}},[a._v("-iL")]),a._v(" -，会从标准输入读取\n"),t("span",{pre:!0,attrs:{class:"token parameter variable"}},[a._v("-iR")]),a._v(" "),t("span",{pre:!0,attrs:{class:"token operator"}},[a._v("<")]),a._v("num hosts"),t("span",{pre:!0,attrs:{class:"token operator"}},[a._v(">")]),a._v("\n\t随机挑选主机进行扫描\n"),t("span",{pre:!0,attrs:{class:"token parameter variable"}},[a._v("--exclude")]),a._v(" "),t("span",{pre:!0,attrs:{class:"token operator"}},[a._v("<")]),a._v("host1"),t("span",{pre:!0,attrs:{class:"token punctuation"}},[a._v("[")]),a._v(",host2"),t("span",{pre:!0,attrs:{class:"token punctuation"}},[a._v("]")]),t("span",{pre:!0,attrs:{class:"token punctuation"}},[a._v("[")]),a._v(",host3"),t("span",{pre:!0,attrs:{class:"token punctuation"}},[a._v("]")]),a._v(","),t("span",{pre:!0,attrs:{class:"token punctuation"}},[a._v("..")]),a._v("."),t("span",{pre:!0,attrs:{class:"token operator"}},[a._v(">")]),a._v("\n\t排除指定的主机/网络\n"),t("span",{pre:!0,attrs:{class:"token parameter variable"}},[a._v("--excludefile")]),a._v(" "),t("span",{pre:!0,attrs:{class:"token operator"}},[a._v("<")]),a._v("exclude_file"),t("span",{pre:!0,attrs:{class:"token operator"}},[a._v(">")]),a._v("\n\t从文件指定文件中读取要排除的主机/网络\n")])])]),t("h3",{attrs:{id:"host-discovery"}},[t("a",{staticClass:"header-anchor",attrs:{href:"#host-discovery"}},[a._v("#")]),a._v(" HOST DISCOVERY")]),a._v(" "),t("div",{staticClass:"language-shell extra-class"},[t("pre",{pre:!0,attrs:{class:"language-shell"}},[t("code",[t("span",{pre:!0,attrs:{class:"token parameter variable"}},[a._v("-sL")]),a._v("\n\t列表扫描-仅列出要扫描的目标\n"),t("span",{pre:!0,attrs:{class:"token parameter variable"}},[a._v("-sn")]),a._v("\n\tPing 扫描-禁用端口扫描\n"),t("span",{pre:!0,attrs:{class:"token parameter variable"}},[a._v("-Pn")]),a._v("\n\t将所有主机视为联机--跳过主机发现"),t("span",{pre:!0,attrs:{class:"token punctuation"}},[a._v("(")]),a._v("No "),t("span",{pre:!0,attrs:{class:"token function"}},[a._v("ping")]),t("span",{pre:!0,attrs:{class:"token punctuation"}},[a._v(")")]),a._v("\n"),t("span",{pre:!0,attrs:{class:"token parameter variable"}},[a._v("-sP")]),a._v("\n\tPing 扫描-仅确定主机是否联机\n-PS/PA/PU/PY "),t("span",{pre:!0,attrs:{class:"token punctuation"}},[a._v("[")]),a._v("PORTLIST"),t("span",{pre:!0,attrs:{class:"token punctuation"}},[a._v("]")]),a._v("\n\tTCP SYN/ACK/UDP/SCTP 发现探测到给定端口\n-PO"),t("span",{pre:!0,attrs:{class:"token punctuation"}},[a._v("[")]),a._v("protocol list"),t("span",{pre:!0,attrs:{class:"token punctuation"}},[a._v("]")]),a._v("\n\tIP 协议 Ping\n-PE/PP/PM\n\tICMP 回显、时间戳和网络掩码请求发现探测\n-n/-R\n\t从不进行 DNS 解析/始终解析"),t("span",{pre:!0,attrs:{class:"token punctuation"}},[a._v("[")]),a._v("默认：有时解析"),t("span",{pre:!0,attrs:{class:"token punctuation"}},[a._v("]")]),a._v("\n--dns-servers "),t("span",{pre:!0,attrs:{class:"token operator"}},[a._v("<")]),a._v("serv1"),t("span",{pre:!0,attrs:{class:"token punctuation"}},[a._v("[")]),a._v(",serv2"),t("span",{pre:!0,attrs:{class:"token punctuation"}},[a._v("]")]),a._v(","),t("span",{pre:!0,attrs:{class:"token punctuation"}},[a._v("..")]),a._v("."),t("span",{pre:!0,attrs:{class:"token operator"}},[a._v(">")]),a._v("\n\t指定自定义 DNS 服务器\n--system-dns\n\t使用操作系统的 DNS 解析程序\n"),t("span",{pre:!0,attrs:{class:"token parameter variable"}},[a._v("--traceroute")]),a._v("\n\t跟踪每个主机的跃点路径\n")])])]),t("h3",{attrs:{id:"scan-techniques"}},[t("a",{staticClass:"header-anchor",attrs:{href:"#scan-techniques"}},[a._v("#")]),a._v(" SCAN TECHNIQUES")]),a._v(" "),t("div",{staticClass:"language-shell extra-class"},[t("pre",{pre:!0,attrs:{class:"language-shell"}},[t("code",[a._v("-sS/sT/sA/sW/sM\n\tTCP SYN/Connect"),t("span",{pre:!0,attrs:{class:"token punctuation"}},[a._v("(")]),t("span",{pre:!0,attrs:{class:"token punctuation"}},[a._v(")")]),a._v("/ACK/Window/Maimon 扫描\n-sN/sF/sX\n\tTCP Null, FIN 和 Xmas 扫描\n"),t("span",{pre:!0,attrs:{class:"token parameter variable"}},[a._v("--scanflags")]),a._v(" "),t("span",{pre:!0,attrs:{class:"token operator"}},[a._v("<")]),a._v("flags"),t("span",{pre:!0,attrs:{class:"token operator"}},[a._v(">")]),a._v("\n\t自定义TCP扫描标志\n"),t("span",{pre:!0,attrs:{class:"token parameter variable"}},[a._v("-sI")]),a._v(" "),t("span",{pre:!0,attrs:{class:"token operator"}},[a._v("<")]),a._v("zombie host"),t("span",{pre:!0,attrs:{class:"token punctuation"}},[a._v("[")]),a._v(":probeport"),t("span",{pre:!0,attrs:{class:"token punctuation"}},[a._v("]")]),t("span",{pre:!0,attrs:{class:"token operator"}},[a._v(">")]),a._v("\n\t空闲扫描\n-sY/sZ\n\tSCTP INIT/COOKIE-ECHO 扫描\n"),t("span",{pre:!0,attrs:{class:"token parameter variable"}},[a._v("-sO")]),a._v("\n\tIP 协议扫描\n"),t("span",{pre:!0,attrs:{class:"token parameter variable"}},[a._v("-b")]),a._v(" "),t("span",{pre:!0,attrs:{class:"token operator"}},[a._v("<")]),a._v("FTP relay host"),t("span",{pre:!0,attrs:{class:"token operator"}},[a._v(">")]),a._v("\n\tFTP 反弹扫描\n")])])]),t("h3",{attrs:{id:"port-specification-and-scan-order"}},[t("a",{staticClass:"header-anchor",attrs:{href:"#port-specification-and-scan-order"}},[a._v("#")]),a._v(" PORT SPECIFICATION AND SCAN ORDER")]),a._v(" "),t("div",{staticClass:"language-shell extra-class"},[t("pre",{pre:!0,attrs:{class:"language-shell"}},[t("code",[t("span",{pre:!0,attrs:{class:"token parameter variable"}},[a._v("-p")]),a._v(" "),t("span",{pre:!0,attrs:{class:"token operator"}},[a._v("<")]),a._v("port ranges"),t("span",{pre:!0,attrs:{class:"token operator"}},[a._v(">")]),a._v("\n\t只扫描指定端口，如 -p22"),t("span",{pre:!0,attrs:{class:"token punctuation"}},[a._v(";")]),a._v(" -p1-65535"),t("span",{pre:!0,attrs:{class:"token punctuation"}},[a._v(";")]),a._v(" "),t("span",{pre:!0,attrs:{class:"token parameter variable"}},[a._v("-p")]),a._v(" U:53,111,137,T:21-25,80,139,8080,S:9\n--exclude-ports "),t("span",{pre:!0,attrs:{class:"token operator"}},[a._v("<")]),a._v("port ranges"),t("span",{pre:!0,attrs:{class:"token operator"}},[a._v(">")]),a._v("\n\t从扫描中排除指定的端口\n"),t("span",{pre:!0,attrs:{class:"token parameter variable"}},[a._v("-F")]),a._v("\n\t快速模式-扫描的端口数少于默认扫描\n"),t("span",{pre:!0,attrs:{class:"token parameter variable"}},[a._v("-r")]),a._v("\n\t连续扫描端口-不要随机化\n--top-ports "),t("span",{pre:!0,attrs:{class:"token operator"}},[a._v("<")]),a._v("number"),t("span",{pre:!0,attrs:{class:"token operator"}},[a._v(">")]),a._v("\n\t扫描 "),t("span",{pre:!0,attrs:{class:"token operator"}},[a._v("<")]),a._v("number"),t("span",{pre:!0,attrs:{class:"token operator"}},[a._v(">")]),a._v(" 最常见的端口\n--port-ratio "),t("span",{pre:!0,attrs:{class:"token operator"}},[a._v("<")]),a._v("ratio"),t("span",{pre:!0,attrs:{class:"token operator"}},[a._v(">")]),a._v("\n\t以大于给定值的比率扫描 nmap 服务文件中的所有端口，ratio 必须是 "),t("span",{pre:!0,attrs:{class:"token number"}},[a._v("0.0")]),a._v(" 到 "),t("span",{pre:!0,attrs:{class:"token number"}},[a._v("1.0")]),a._v(" 之间\n")])])]),t("h3",{attrs:{id:"service-version-detection"}},[t("a",{staticClass:"header-anchor",attrs:{href:"#service-version-detection"}},[a._v("#")]),a._v(" SERVICE/VERSION DETECTION")]),a._v(" "),t("div",{staticClass:"language-shell extra-class"},[t("pre",{pre:!0,attrs:{class:"language-shell"}},[t("code",[t("span",{pre:!0,attrs:{class:"token parameter variable"}},[a._v("-sV")]),a._v("\n\t探测打开的端口以确定服务/版本信息\n--version-intensity "),t("span",{pre:!0,attrs:{class:"token operator"}},[a._v("<")]),a._v("level"),t("span",{pre:!0,attrs:{class:"token operator"}},[a._v(">")]),a._v("\n\t设置版本探针强度（从 "),t("span",{pre:!0,attrs:{class:"token number"}},[a._v("0")]),a._v(" 到 "),t("span",{pre:!0,attrs:{class:"token number"}},[a._v("9")]),a._v("，缺省为 "),t("span",{pre:!0,attrs:{class:"token number"}},[a._v("7")]),a._v("）\n--version-light\n\t使用轻度探测强度，等价于 --version-intensity "),t("span",{pre:!0,attrs:{class:"token number"}},[a._v("2")]),a._v("。这种模式使版本扫描速度更快，但识别服务的可能性稍低\n--version-all\n\t等价于 --version-intensity "),t("span",{pre:!0,attrs:{class:"token number"}},[a._v("9")]),a._v("，确保针对每个端口尝试每个探测器\n--version-trace\n\t显示详细的版本扫描活动（用于调试）\n")])])]),t("h3",{attrs:{id:"script-scan"}},[t("a",{staticClass:"header-anchor",attrs:{href:"#script-scan"}},[a._v("#")]),a._v(" SCRIPT SCAN")]),a._v(" "),t("div",{staticClass:"language-shell extra-class"},[t("pre",{pre:!0,attrs:{class:"language-shell"}},[t("code",[t("span",{pre:!0,attrs:{class:"token parameter variable"}},[a._v("-sC")]),a._v("\n\t等价于 "),t("span",{pre:!0,attrs:{class:"token parameter variable"}},[a._v("--script")]),t("span",{pre:!0,attrs:{class:"token operator"}},[a._v("=")]),a._v("default\n"),t("span",{pre:!0,attrs:{class:"token parameter variable"}},[a._v("--script")]),t("span",{pre:!0,attrs:{class:"token operator"}},[a._v("=")]),t("span",{pre:!0,attrs:{class:"token operator"}},[a._v("<")]),a._v("Lua scripts"),t("span",{pre:!0,attrs:{class:"token operator"}},[a._v(">")]),a._v("\n\t"),t("span",{pre:!0,attrs:{class:"token operator"}},[a._v("<")]),a._v("Lua scripts"),t("span",{pre:!0,attrs:{class:"token operator"}},[a._v(">")]),a._v(" 是以逗号分隔的目录、脚本文件或脚本类别\n--script-args"),t("span",{pre:!0,attrs:{class:"token operator"}},[a._v("=")]),t("span",{pre:!0,attrs:{class:"token operator"}},[a._v("<")]),a._v("n1"),t("span",{pre:!0,attrs:{class:"token operator"}},[a._v("=")]),a._v("v1,"),t("span",{pre:!0,attrs:{class:"token punctuation"}},[a._v("[")]),a._v("n2"),t("span",{pre:!0,attrs:{class:"token operator"}},[a._v("=")]),a._v("v2,"),t("span",{pre:!0,attrs:{class:"token punctuation"}},[a._v("..")]),a._v("."),t("span",{pre:!0,attrs:{class:"token punctuation"}},[a._v("]")]),t("span",{pre:!0,attrs:{class:"token operator"}},[a._v(">")]),a._v("\n\t为脚本提供参数\n--script-args-file"),t("span",{pre:!0,attrs:{class:"token operator"}},[a._v("=")]),a._v("filename\n\t在文件中提供NSE脚本参数\n--script-trace\n\t显示发送和接收的所有数据\n--script-updatedb\n\t更新脚本数据库\n--script-help"),t("span",{pre:!0,attrs:{class:"token operator"}},[a._v("=")]),t("span",{pre:!0,attrs:{class:"token operator"}},[a._v("<")]),a._v("Lua scripts"),t("span",{pre:!0,attrs:{class:"token operator"}},[a._v(">")]),a._v("\n\t显示有关脚本的帮助\n")])])]),t("h3",{attrs:{id:"os-detection"}},[t("a",{staticClass:"header-anchor",attrs:{href:"#os-detection"}},[a._v("#")]),a._v(" OS DETECTION")]),a._v(" "),t("div",{staticClass:"language-shell extra-class"},[t("pre",{pre:!0,attrs:{class:"language-shell"}},[t("code",[t("span",{pre:!0,attrs:{class:"token parameter variable"}},[a._v("-O")]),a._v("\n\t启用操作系统检测\n--osscan-limit\n\t不符合此条件的主机不尝试操作系统检测，这可以节省大量的时间\n--osscan-guess\n\t更积极地猜测操作系统\n")])])]),t("h3",{attrs:{id:"timing-and-performance"}},[t("a",{staticClass:"header-anchor",attrs:{href:"#timing-and-performance"}},[a._v("#")]),a._v(" TIMING AND PERFORMANCE")]),a._v(" "),t("p",[a._v("时间值 "),t("time",[a._v(" 默认以秒为单位，或附加时间单位 ms（秒），s（秒），m（分钟）或 h（小时），如 30m。")])]),a._v(" "),t("div",{staticClass:"language-shell extra-class"},[t("pre",{pre:!0,attrs:{class:"language-shell"}},[t("code",[a._v("-T"),t("span",{pre:!0,attrs:{class:"token operator"}},[a._v("<")]),t("span",{pre:!0,attrs:{class:"token number"}},[a._v("0")]),a._v("-"),t("span",{pre:!0,attrs:{class:"token operator"}},[t("span",{pre:!0,attrs:{class:"token file-descriptor important"}},[a._v("5")]),a._v(">")]),a._v("\n\t设置计时模板（越高速度越快）\n--min-hostgroup/max-hostgroup "),t("span",{pre:!0,attrs:{class:"token operator"}},[a._v("<")]),a._v("size"),t("span",{pre:!0,attrs:{class:"token operator"}},[a._v(">")]),a._v("\n\t并行主机扫描组大小\n--min-parallelism/max-parallelism "),t("span",{pre:!0,attrs:{class:"token operator"}},[a._v("<")]),a._v("numprobes"),t("span",{pre:!0,attrs:{class:"token operator"}},[a._v(">")]),a._v("\n\t探测并行化\n--min-rtt-timeout/max-rtt-timeout/initial-rtt-timeout "),t("span",{pre:!0,attrs:{class:"token operator"}},[a._v("<")]),a._v("time"),t("span",{pre:!0,attrs:{class:"token operator"}},[a._v(">")]),a._v("\n\t指定探测往返时间\n--max-retries "),t("span",{pre:!0,attrs:{class:"token operator"}},[a._v("<")]),a._v("tries"),t("span",{pre:!0,attrs:{class:"token operator"}},[a._v(">")]),a._v("\n\tCaps 端口扫描探头重新传输的次数\n--host-timeout "),t("span",{pre:!0,attrs:{class:"token operator"}},[a._v("<")]),a._v("time"),t("span",{pre:!0,attrs:{class:"token operator"}},[a._v(">")]),a._v("\n\t设置主基探测超时时间\n--scan-delay/--max-scan-delay "),t("span",{pre:!0,attrs:{class:"token operator"}},[a._v("<")]),a._v("time"),t("span",{pre:!0,attrs:{class:"token operator"}},[a._v(">")]),a._v("\n\t调整探针之间的延迟\n--min-rate "),t("span",{pre:!0,attrs:{class:"token operator"}},[a._v("<")]),a._v("number"),t("span",{pre:!0,attrs:{class:"token operator"}},[a._v(">")]),a._v("\n\t发送数据包的速度不低于每秒 "),t("span",{pre:!0,attrs:{class:"token operator"}},[a._v("<")]),a._v("number"),t("span",{pre:!0,attrs:{class:"token operator"}},[a._v(">")]),a._v("\n--max-rate "),t("span",{pre:!0,attrs:{class:"token operator"}},[a._v("<")]),a._v("number"),t("span",{pre:!0,attrs:{class:"token operator"}},[a._v(">")]),a._v("\n\t发送数据包的速度不高于每秒 "),t("span",{pre:!0,attrs:{class:"token operator"}},[a._v("<")]),a._v("number"),t("span",{pre:!0,attrs:{class:"token operator"}},[a._v(">")]),a._v("\n")])])]),t("h3",{attrs:{id:"firewall-ids-evasion-and-spoofing"}},[t("a",{staticClass:"header-anchor",attrs:{href:"#firewall-ids-evasion-and-spoofing"}},[a._v("#")]),a._v(" FIREWALL/IDS EVASION AND SPOOFING")]),a._v(" "),t("div",{staticClass:"language-shell extra-class"},[t("pre",{pre:!0,attrs:{class:"language-shell"}},[t("code",[a._v("-f"),t("span",{pre:!0,attrs:{class:"token punctuation"}},[a._v(";")]),a._v(" "),t("span",{pre:!0,attrs:{class:"token parameter variable"}},[a._v("--mtu")]),a._v(" "),t("span",{pre:!0,attrs:{class:"token operator"}},[a._v("<")]),a._v("val"),t("span",{pre:!0,attrs:{class:"token operator"}},[a._v(">")]),a._v("\n\t"),t("span",{pre:!0,attrs:{class:"token parameter variable"}},[a._v("-f")]),a._v(" 选项使扫描请求（包括主机发现扫描）使用微小的碎片化 IP 数据包，可以用过选项 "),t("span",{pre:!0,attrs:{class:"token parameter variable"}},[a._v("--mtu")]),a._v(" 指定 MTU\n"),t("span",{pre:!0,attrs:{class:"token parameter variable"}},[a._v("-D")]),a._v(" "),t("span",{pre:!0,attrs:{class:"token operator"}},[a._v("<")]),a._v("decoy1,decoy2"),t("span",{pre:!0,attrs:{class:"token punctuation"}},[a._v("[")]),a._v(",ME"),t("span",{pre:!0,attrs:{class:"token punctuation"}},[a._v("]")]),a._v(","),t("span",{pre:!0,attrs:{class:"token punctuation"}},[a._v("..")]),a._v("."),t("span",{pre:!0,attrs:{class:"token operator"}},[a._v(">")]),a._v("\n\t用诱饵掩盖扫描\n"),t("span",{pre:!0,attrs:{class:"token parameter variable"}},[a._v("-S")]),a._v(" "),t("span",{pre:!0,attrs:{class:"token operator"}},[a._v("<")]),a._v("IP_Address"),t("span",{pre:!0,attrs:{class:"token operator"}},[a._v(">")]),a._v("\n\t欺骗源地址\n"),t("span",{pre:!0,attrs:{class:"token parameter variable"}},[a._v("-e")]),a._v(" "),t("span",{pre:!0,attrs:{class:"token operator"}},[a._v("<")]),a._v("iface"),t("span",{pre:!0,attrs:{class:"token operator"}},[a._v(">")]),a._v("\n\t使用指定的接口\n-g/--source-port "),t("span",{pre:!0,attrs:{class:"token operator"}},[a._v("<")]),a._v("portnum"),t("span",{pre:!0,attrs:{class:"token operator"}},[a._v(">")]),a._v("\n\t使用给定的端口号\n"),t("span",{pre:!0,attrs:{class:"token parameter variable"}},[a._v("--proxies")]),a._v(" "),t("span",{pre:!0,attrs:{class:"token operator"}},[a._v("<")]),a._v("url1,"),t("span",{pre:!0,attrs:{class:"token punctuation"}},[a._v("[")]),a._v("url2"),t("span",{pre:!0,attrs:{class:"token punctuation"}},[a._v("]")]),a._v(","),t("span",{pre:!0,attrs:{class:"token punctuation"}},[a._v("..")]),a._v("."),t("span",{pre:!0,attrs:{class:"token operator"}},[a._v(">")]),a._v("\n\t通过HTTP/SOCKS4代理中继连接\n"),t("span",{pre:!0,attrs:{class:"token parameter variable"}},[a._v("--data")]),a._v(" "),t("span",{pre:!0,attrs:{class:"token operator"}},[a._v("<")]),a._v("hex string"),t("span",{pre:!0,attrs:{class:"token operator"}},[a._v(">")]),a._v("\n\t将自定义有效负载附加到发送的数据包\n--data-string "),t("span",{pre:!0,attrs:{class:"token operator"}},[a._v("<")]),a._v("string"),t("span",{pre:!0,attrs:{class:"token operator"}},[a._v(">")]),a._v("\n\t向发送的数据包附加自定义ASCII字符串\n--data-length "),t("span",{pre:!0,attrs:{class:"token operator"}},[a._v("<")]),a._v("num"),t("span",{pre:!0,attrs:{class:"token operator"}},[a._v(">")]),a._v("\n\t向发送的数据包附加随机数据\n--ip-options "),t("span",{pre:!0,attrs:{class:"token operator"}},[a._v("<")]),a._v("options"),t("span",{pre:!0,attrs:{class:"token operator"}},[a._v(">")]),a._v("\n\t使用指定的 IP 选项发送数据包\n"),t("span",{pre:!0,attrs:{class:"token parameter variable"}},[a._v("--ttl")]),a._v(" "),t("span",{pre:!0,attrs:{class:"token operator"}},[a._v("<")]),a._v("val"),t("span",{pre:!0,attrs:{class:"token operator"}},[a._v(">")]),a._v("\n\t设置 IP 生存时间字段\n--spoof-mac "),t("span",{pre:!0,attrs:{class:"token operator"}},[a._v("<")]),a._v("mac address/prefix/vendor name"),t("span",{pre:!0,attrs:{class:"token operator"}},[a._v(">")]),a._v("\n\t要求 mmap 为其发送的所有原始以太网帧使用给定的 MAC 地址\n"),t("span",{pre:!0,attrs:{class:"token parameter variable"}},[a._v("--badsum")]),a._v("\n\t使用伪 TCP/UDP/SCTP 校验和发送数据包\n")])])]),t("h3",{attrs:{id:"output"}},[t("a",{staticClass:"header-anchor",attrs:{href:"#output"}},[a._v("#")]),a._v(" OUTPUT")]),a._v(" "),t("div",{staticClass:"language-shell extra-class"},[t("pre",{pre:!0,attrs:{class:"language-shell"}},[t("code",[a._v("-oN/-oX/-oS/-oG "),t("span",{pre:!0,attrs:{class:"token operator"}},[a._v("<")]),a._v("file"),t("span",{pre:!0,attrs:{class:"token operator"}},[a._v(">")]),a._v("\n\t分别以普通、XML、s"),t("span",{pre:!0,attrs:{class:"token operator"}},[a._v("|")]),t("span",{pre:!0,attrs:{class:"token operator"}},[a._v("<")]),a._v("cript kIddi3 和 grepable 格式输出扫描到给定文件名\n"),t("span",{pre:!0,attrs:{class:"token parameter variable"}},[a._v("-oA")]),a._v(" "),t("span",{pre:!0,attrs:{class:"token operator"}},[a._v("<")]),a._v("basename"),t("span",{pre:!0,attrs:{class:"token operator"}},[a._v(">")]),a._v("\n\t同时以三种主要格式输出\n"),t("span",{pre:!0,attrs:{class:"token parameter variable"}},[a._v("-v")]),a._v("\n\t增加详细程度（使用 "),t("span",{pre:!0,attrs:{class:"token parameter variable"}},[a._v("-vv")]),a._v(" 或更多以获得更大效果）\n"),t("span",{pre:!0,attrs:{class:"token parameter variable"}},[a._v("-d")]),a._v("\n\t提高调试级别（使用 "),t("span",{pre:!0,attrs:{class:"token parameter variable"}},[a._v("-dd")]),a._v(" 或更多以获得更大的效果）\n"),t("span",{pre:!0,attrs:{class:"token parameter variable"}},[a._v("--reason")]),a._v("\n\t显示端口处于特定状态的原因\n"),t("span",{pre:!0,attrs:{class:"token parameter variable"}},[a._v("--open")]),a._v("\n\t仅显示打开（或可能打开）的端口\n--packet-trace\n\t显示发送和接收的所有数据包\n"),t("span",{pre:!0,attrs:{class:"token parameter variable"}},[a._v("--iflist")]),a._v("\n\t打印主机接口和路由（用于调试）\n--append-output\n\t附加到指定的输出文件而不是覆盖\n"),t("span",{pre:!0,attrs:{class:"token parameter variable"}},[a._v("--resume")]),a._v(" "),t("span",{pre:!0,attrs:{class:"token operator"}},[a._v("<")]),a._v("filename"),t("span",{pre:!0,attrs:{class:"token operator"}},[a._v(">")]),a._v("\n\t恢复中止的扫描\n"),t("span",{pre:!0,attrs:{class:"token parameter variable"}},[a._v("--noninteractive")]),a._v("\n\t禁用运行时交互\n"),t("span",{pre:!0,attrs:{class:"token parameter variable"}},[a._v("--stylesheet")]),a._v(" "),t("span",{pre:!0,attrs:{class:"token operator"}},[a._v("<")]),a._v("path/URL"),t("span",{pre:!0,attrs:{class:"token operator"}},[a._v(">")]),a._v("\n\t使用 XSL 样式表查看 XML 输出或将其转换为 HTML\n"),t("span",{pre:!0,attrs:{class:"token parameter variable"}},[a._v("--webxml")]),a._v("\n\t从 Nmap.Org 加载样式表，等价于 "),t("span",{pre:!0,attrs:{class:"token parameter variable"}},[a._v("--stylesheet")]),a._v(" https://nmap.org/svn/docs/nmap.xsl\n--no-stylesheet\n\t防止 nmap 将任何 XSL 样式表与其 XML 输出关联\n")])])]),t("h3",{attrs:{id:"misc"}},[t("a",{staticClass:"header-anchor",attrs:{href:"#misc"}},[a._v("#")]),a._v(" MISC")]),a._v(" "),t("div",{staticClass:"language-shell extra-class"},[t("pre",{pre:!0,attrs:{class:"language-shell"}},[t("code",[t("span",{pre:!0,attrs:{class:"token parameter variable"}},[a._v("-6")]),a._v("\n\t启用 IPv6 扫描\n"),t("span",{pre:!0,attrs:{class:"token parameter variable"}},[a._v("-A")]),a._v("\n\t启用操作系统检测、版本检测、脚本扫描和跟踪路由\n"),t("span",{pre:!0,attrs:{class:"token parameter variable"}},[a._v("--datadir")]),a._v(" "),t("span",{pre:!0,attrs:{class:"token operator"}},[a._v("<")]),a._v("dirname"),t("span",{pre:!0,attrs:{class:"token operator"}},[a._v(">")]),a._v("\n\t指定自定义 nmap 数据文件位置\n--send-eth/--send-ip\n\t使用原始以太网帧或IP数据包发送\n"),t("span",{pre:!0,attrs:{class:"token parameter variable"}},[a._v("--privileged")]),a._v("\n\t假设用户具有完全特权\n"),t("span",{pre:!0,attrs:{class:"token parameter variable"}},[a._v("--unprivileged")]),a._v("\n\t假设用户缺少原始套接字权限\n"),t("span",{pre:!0,attrs:{class:"token parameter variable"}},[a._v("-V")]),a._v("\n\t打印版本号\n"),t("span",{pre:!0,attrs:{class:"token parameter variable"}},[a._v("-h")]),a._v("\n\t打印帮助摘要信息\n")])])]),t("h2",{attrs:{id:"_4-常用示例"}},[t("a",{staticClass:"header-anchor",attrs:{href:"#_4-常用示例"}},[a._v("#")]),a._v(" 4.常用示例")]),a._v(" "),t("p",[a._v("（1）扫描远程主机的指定端口来判断是否开放。")]),a._v(" "),t("div",{staticClass:"language-shell extra-class"},[t("pre",{pre:!0,attrs:{class:"language-shell"}},[t("code",[a._v("nmap IP "),t("span",{pre:!0,attrs:{class:"token parameter variable"}},[a._v("-p")]),a._v(" PORT\n\n"),t("span",{pre:!0,attrs:{class:"token comment"}},[a._v("# 示例")]),a._v("\nnmap "),t("span",{pre:!0,attrs:{class:"token number"}},[a._v("14.215")]),a._v(".177.88 "),t("span",{pre:!0,attrs:{class:"token parameter variable"}},[a._v("-p")]),a._v(" "),t("span",{pre:!0,attrs:{class:"token number"}},[a._v("8000")]),a._v("\n\nStarting Nmap "),t("span",{pre:!0,attrs:{class:"token number"}},[a._v("6.40")]),a._v(" "),t("span",{pre:!0,attrs:{class:"token punctuation"}},[a._v("(")]),a._v(" http://nmap.org "),t("span",{pre:!0,attrs:{class:"token punctuation"}},[a._v(")")]),a._v(" at "),t("span",{pre:!0,attrs:{class:"token number"}},[a._v("2021")]),a._v("-11-01 "),t("span",{pre:!0,attrs:{class:"token number"}},[a._v("15")]),a._v(":55 CST\nNmap scan report "),t("span",{pre:!0,attrs:{class:"token keyword"}},[a._v("for")]),a._v(" "),t("span",{pre:!0,attrs:{class:"token number"}},[a._v("14.215")]),a._v(".177.38\nHost is up "),t("span",{pre:!0,attrs:{class:"token punctuation"}},[a._v("(")]),t("span",{pre:!0,attrs:{class:"token number"}},[a._v("0")]),a._v(".00027s latency"),t("span",{pre:!0,attrs:{class:"token punctuation"}},[a._v(")")]),a._v(".\nPORT     STATE SERVICE\n"),t("span",{pre:!0,attrs:{class:"token number"}},[a._v("8000")]),a._v("/tcp "),t("span",{pre:!0,attrs:{class:"token function"}},[a._v("open")]),a._v("  unknown\n\nNmap done: "),t("span",{pre:!0,attrs:{class:"token number"}},[a._v("1")]),a._v(" IP address "),t("span",{pre:!0,attrs:{class:"token punctuation"}},[a._v("(")]),t("span",{pre:!0,attrs:{class:"token number"}},[a._v("1")]),a._v(" "),t("span",{pre:!0,attrs:{class:"token function"}},[a._v("host")]),a._v(" up"),t("span",{pre:!0,attrs:{class:"token punctuation"}},[a._v(")")]),a._v(" scanned "),t("span",{pre:!0,attrs:{class:"token keyword"}},[a._v("in")]),a._v(" "),t("span",{pre:!0,attrs:{class:"token number"}},[a._v("0.29")]),a._v(" seconds\n")])])]),t("p",[a._v("输出中 open 表示指定端口正在被监听。")]),a._v(" "),t("p",[a._v("（2）扫描指定 IP 或域名下开放的端口，可以很方便地发现目标端口的开放情况及主机在线情况。")]),a._v(" "),t("div",{staticClass:"language-shell extra-class"},[t("pre",{pre:!0,attrs:{class:"language-shell"}},[t("code",[a._v("nmap docs.nvidia.com\n\nStarting Nmap "),t("span",{pre:!0,attrs:{class:"token number"}},[a._v("6.40")]),a._v(" "),t("span",{pre:!0,attrs:{class:"token punctuation"}},[a._v("(")]),a._v(" http://nmap.org "),t("span",{pre:!0,attrs:{class:"token punctuation"}},[a._v(")")]),a._v(" at "),t("span",{pre:!0,attrs:{class:"token number"}},[a._v("2021")]),a._v("-11-01 "),t("span",{pre:!0,attrs:{class:"token number"}},[a._v("16")]),a._v(":00 CST\nNmap scan report "),t("span",{pre:!0,attrs:{class:"token keyword"}},[a._v("for")]),a._v(" docs.nvidia.com "),t("span",{pre:!0,attrs:{class:"token punctuation"}},[a._v("(")]),t("span",{pre:!0,attrs:{class:"token number"}},[a._v("129.227")]),a._v(".48.130"),t("span",{pre:!0,attrs:{class:"token punctuation"}},[a._v(")")]),a._v("\nHost is up "),t("span",{pre:!0,attrs:{class:"token punctuation"}},[a._v("(")]),t("span",{pre:!0,attrs:{class:"token number"}},[a._v("0")]),a._v(".00021s latency"),t("span",{pre:!0,attrs:{class:"token punctuation"}},[a._v(")")]),a._v(".\nOther addresses "),t("span",{pre:!0,attrs:{class:"token keyword"}},[a._v("for")]),a._v(" docs.nvidia.com "),t("span",{pre:!0,attrs:{class:"token punctuation"}},[a._v("(")]),a._v("not scanned"),t("span",{pre:!0,attrs:{class:"token punctuation"}},[a._v(")")]),a._v(": "),t("span",{pre:!0,attrs:{class:"token number"}},[a._v("129.227")]),a._v(".48.131 "),t("span",{pre:!0,attrs:{class:"token number"}},[a._v("129.227")]),a._v(".48.132 "),t("span",{pre:!0,attrs:{class:"token number"}},[a._v("129.227")]),a._v(".48.133 "),t("span",{pre:!0,attrs:{class:"token number"}},[a._v("129.227")]),a._v(".6.189 "),t("span",{pre:!0,attrs:{class:"token number"}},[a._v("129.227")]),a._v(".6.190 "),t("span",{pre:!0,attrs:{class:"token number"}},[a._v("192.254")]),a._v(".94.202 "),t("span",{pre:!0,attrs:{class:"token number"}},[a._v("192.254")]),a._v(".94.203 "),t("span",{pre:!0,attrs:{class:"token number"}},[a._v("129.227")]),a._v(".114.197 "),t("span",{pre:!0,attrs:{class:"token number"}},[a._v("129.227")]),a._v(".114.198\nPORT      STATE SERVICE\n"),t("span",{pre:!0,attrs:{class:"token number"}},[a._v("1")]),a._v("/tcp     "),t("span",{pre:!0,attrs:{class:"token function"}},[a._v("open")]),a._v("  tcpmux\n"),t("span",{pre:!0,attrs:{class:"token number"}},[a._v("3")]),a._v("/tcp     "),t("span",{pre:!0,attrs:{class:"token function"}},[a._v("open")]),a._v("  compressnet\n"),t("span",{pre:!0,attrs:{class:"token punctuation"}},[a._v("..")]),a._v(".\n"),t("span",{pre:!0,attrs:{class:"token number"}},[a._v("63331")]),a._v("/tcp "),t("span",{pre:!0,attrs:{class:"token function"}},[a._v("open")]),a._v("  unknown\n"),t("span",{pre:!0,attrs:{class:"token number"}},[a._v("64623")]),a._v("/tcp "),t("span",{pre:!0,attrs:{class:"token function"}},[a._v("open")]),a._v("  unknown\n"),t("span",{pre:!0,attrs:{class:"token number"}},[a._v("64680")]),a._v("/tcp "),t("span",{pre:!0,attrs:{class:"token function"}},[a._v("open")]),a._v("  unknown\n"),t("span",{pre:!0,attrs:{class:"token number"}},[a._v("65000")]),a._v("/tcp "),t("span",{pre:!0,attrs:{class:"token function"}},[a._v("open")]),a._v("  unknown\n"),t("span",{pre:!0,attrs:{class:"token number"}},[a._v("65129")]),a._v("/tcp "),t("span",{pre:!0,attrs:{class:"token function"}},[a._v("open")]),a._v("  unknown\n"),t("span",{pre:!0,attrs:{class:"token number"}},[a._v("65389")]),a._v("/tcp "),t("span",{pre:!0,attrs:{class:"token function"}},[a._v("open")]),a._v("  unknown\n\nMap done: "),t("span",{pre:!0,attrs:{class:"token number"}},[a._v("1")]),a._v(" IP address "),t("span",{pre:!0,attrs:{class:"token punctuation"}},[a._v("(")]),t("span",{pre:!0,attrs:{class:"token number"}},[a._v("1")]),a._v(" "),t("span",{pre:!0,attrs:{class:"token function"}},[a._v("host")]),a._v(" up"),t("span",{pre:!0,attrs:{class:"token punctuation"}},[a._v(")")]),a._v(" scanned "),t("span",{pre:!0,attrs:{class:"token keyword"}},[a._v("in")]),a._v(" "),t("span",{pre:!0,attrs:{class:"token number"}},[a._v("9.53")]),a._v(" seconds\n")])])]),t("p",[a._v("(3) Ping 扫描。")]),a._v(" "),t("p",[a._v("Ping 扫描只进行 ping，然后显示出在线的主机。使用该选项扫描可以轻易获取目标信息而不会被轻易发现。")]),a._v(" "),t("p",[a._v("在默认情况下，nmap 会发送一个 ICMP 回声请求和一个 TCP 报文到目标端口。Ping 扫描的优点是不会返回太多的信息影响对结果的分析，并且扫描方式高效。")]),a._v(" "),t("div",{staticClass:"language-shell extra-class"},[t("pre",{pre:!0,attrs:{class:"language-shell"}},[t("code",[a._v("nmap "),t("span",{pre:!0,attrs:{class:"token parameter variable"}},[a._v("-sP")]),a._v(" "),t("span",{pre:!0,attrs:{class:"token number"}},[a._v("192.168")]),a._v(".0.0/24\n\nStarting Nmap "),t("span",{pre:!0,attrs:{class:"token number"}},[a._v("6.40")]),a._v(" "),t("span",{pre:!0,attrs:{class:"token punctuation"}},[a._v("(")]),a._v(" http://nmap.org "),t("span",{pre:!0,attrs:{class:"token punctuation"}},[a._v(")")]),a._v(" at "),t("span",{pre:!0,attrs:{class:"token number"}},[a._v("2021")]),a._v("-11-04 "),t("span",{pre:!0,attrs:{class:"token number"}},[a._v("23")]),a._v(":19 CST\nNmap scan report "),t("span",{pre:!0,attrs:{class:"token keyword"}},[a._v("for")]),a._v(" "),t("span",{pre:!0,attrs:{class:"token number"}},[a._v("192.168")]),a._v(".0.0\nHost is up "),t("span",{pre:!0,attrs:{class:"token punctuation"}},[a._v("(")]),t("span",{pre:!0,attrs:{class:"token number"}},[a._v("0")]),a._v(".023s latency"),t("span",{pre:!0,attrs:{class:"token punctuation"}},[a._v(")")]),a._v(".\nNmap scan report "),t("span",{pre:!0,attrs:{class:"token keyword"}},[a._v("for")]),a._v(" "),t("span",{pre:!0,attrs:{class:"token number"}},[a._v("192.168")]),a._v(".0.1\nHost is up "),t("span",{pre:!0,attrs:{class:"token punctuation"}},[a._v("(")]),t("span",{pre:!0,attrs:{class:"token number"}},[a._v("0")]),a._v(".0056s latency"),t("span",{pre:!0,attrs:{class:"token punctuation"}},[a._v(")")]),a._v(".\nNmap scan report "),t("span",{pre:!0,attrs:{class:"token keyword"}},[a._v("for")]),a._v(" "),t("span",{pre:!0,attrs:{class:"token number"}},[a._v("192.168")]),a._v(".0.2\n"),t("span",{pre:!0,attrs:{class:"token punctuation"}},[a._v("..")]),t("span",{pre:!0,attrs:{class:"token punctuation"}},[a._v("..")]),a._v("\nNmap scan report "),t("span",{pre:!0,attrs:{class:"token keyword"}},[a._v("for")]),a._v(" "),t("span",{pre:!0,attrs:{class:"token number"}},[a._v("192.168")]),a._v(".0.255\nHost is up "),t("span",{pre:!0,attrs:{class:"token punctuation"}},[a._v("(")]),t("span",{pre:!0,attrs:{class:"token number"}},[a._v("0")]),a._v(".023s latency"),t("span",{pre:!0,attrs:{class:"token punctuation"}},[a._v(")")]),a._v(".\nNmap done: "),t("span",{pre:!0,attrs:{class:"token number"}},[a._v("256")]),a._v(" IP addresses "),t("span",{pre:!0,attrs:{class:"token punctuation"}},[a._v("(")]),t("span",{pre:!0,attrs:{class:"token number"}},[a._v("256")]),a._v(" hosts up"),t("span",{pre:!0,attrs:{class:"token punctuation"}},[a._v(")")]),a._v(" scanned "),t("span",{pre:!0,attrs:{class:"token keyword"}},[a._v("in")]),a._v(" "),t("span",{pre:!0,attrs:{class:"token number"}},[a._v("1.99")]),a._v(" seconds\n")])])]),t("hr"),a._v(" "),t("h2",{attrs:{id:"参考文献"}},[t("a",{staticClass:"header-anchor",attrs:{href:"#参考文献"}},[a._v("#")]),a._v(" 参考文献")]),a._v(" "),t("p",[t("a",{attrs:{href:"https://man7.org/linux/man-pages/man1/nmap.1.html",target:"_blank",rel:"noopener noreferrer"}},[a._v("nmap(1) - Linux manual page - man7.org"),t("OutboundLink")],1)]),a._v(" "),t("p",[t("a",{attrs:{href:"https://nmap.org/man/zh",target:"_blank",rel:"noopener noreferrer"}},[a._v("Nmap参考指南(Man Page)"),t("OutboundLink")],1)]),a._v(" "),t("p",[t("a",{attrs:{href:"https://blog.csdn.net/yalecaltech/article/details/70943898",target:"_blank",rel:"noopener noreferrer"}},[a._v("CSDN.nmap命令详解"),t("OutboundLink")],1)]),a._v(" "),t("Vssue",{attrs:{title:"nmap"}})],1)}),[],!1,null,null,null);t.default=r.exports}}]);