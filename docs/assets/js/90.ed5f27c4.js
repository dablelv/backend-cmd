(window.webpackJsonp=window.webpackJsonp||[]).push([[90],{423:function(a,t,e){"use strict";e.r(t);var n=e(12),s=Object(n.a)({},(function(){var a=this,t=a._self._c;return t("ContentSlotsDistributor",{attrs:{"slot-key":a.$parent.slotKey}},[t("h2",{attrs:{id:"_1-命令简介"}},[t("a",{staticClass:"header-anchor",attrs:{href:"#_1-命令简介"}},[a._v("#")]),a._v(" 1.命令简介")]),a._v(" "),t("p",[a._v("locate 用于查看文件。")]),a._v(" "),t("p",[a._v("如果没有指定 "),t("code",[a._v("--regex")]),a._v(" 选项，匹配模式可以包含通配符（globbing characters）。如果模式不包含通配符，则模式等价于 "),t("code",[a._v("*PATTERN*")]),a._v("。")]),a._v(" "),t("h2",{attrs:{id:"_2-locate-与-find-命令的区别"}},[t("a",{staticClass:"header-anchor",attrs:{href:"#_2-locate-与-find-命令的区别"}},[a._v("#")]),a._v(" 2.locate 与 find 命令的区别？")]),a._v(" "),t("p",[a._v("在 Linux 系统中，locate 和 find 命令都可以用于查找文件或目录，但它们的工作方式和使用场景略有不同。")]),a._v(" "),t("p",[a._v("locate 命令基于系统上建立的文件名数据库（一般为 /var/lib/mlocate/mlocate.db），可以快速地查找文件或目录，因为它不会在实际的文件系统上搜索，而是搜索一个预先建立好的数据库。但是，因为数据库的更新存在延迟，则可能会找不到最新的文件。")]),a._v(" "),t("p",[a._v("find 命令是在文件系统上进行实际搜索的。它可以搜索指定目录及其子目录下符合指定条件的文件或目录，并支持更复杂的搜索条件，如按文件类型、修改时间等进行过滤。由于 find 是在文件系统上进行搜索的，因此相对于 locate，它的搜索速度会慢一些，但它可以搜索到最新的文件。")]),a._v(" "),t("p",[a._v("总的来说，如果需要快速地查找文件或目录，可以使用 locate 命令，而如果需要更灵活的搜索条件，可以使用 find 命令。另外，在使用 locate 命令时，应该先使用 "),t("a",{attrs:{href:"https://man7.org/linux/man-pages/man1/updatedb.1.html",target:"_blank",rel:"noopener noreferrer"}},[a._v("updatedb(1)"),t("OutboundLink")],1),a._v(" 命令更新文件名数据库，以便可以搜索到最新的文件。")]),a._v(" "),t("h2",{attrs:{id:"_3-命令格式"}},[t("a",{staticClass:"header-anchor",attrs:{href:"#_3-命令格式"}},[a._v("#")]),a._v(" 3.命令格式")]),a._v(" "),t("div",{staticClass:"language- extra-class"},[t("pre",{pre:!0,attrs:{class:"language-text"}},[t("code",[a._v("locate [OPTION]... PATTERN...\n")])])]),t("h2",{attrs:{id:"_4-选项说明"}},[t("a",{staticClass:"header-anchor",attrs:{href:"#_4-选项说明"}},[a._v("#")]),a._v(" 4.选项说明")]),a._v(" "),t("div",{staticClass:"language- extra-class"},[t("pre",{pre:!0,attrs:{class:"language-text"}},[t("code",[a._v("-A, --all\n\t只显示匹配所有模式的条目\n-b, --basename\n\t只匹配文件的基本名。作用与选项 --wholename 相反\n-c, --count\n\t只输出符合匹配模式的文件的数量\n-d, --database DBPATH\n\t将默认数据库替换为 DBPATH。该选项可出现多次\n-e, --existing\n\t只打印当前存在的文件\n-L, --follow\n\t当检查文件是否存在时（如果选项 --existing 指定时），检查符号链接的目标文件（默认，相反的选项是 --nofollow）\n-h, --help\n\t显示帮助信息并退出\n-i, --ignore-case\n\t比较时忽略大小写\n-l, --limit, -n LIMIT\n\t限制成功匹配的文件数为 LIMIT\n-P, --nofollow, -H\n\t当检查文件是否存在时（如果选项 --existing 指定时），不检查符号链接的目标文件。作用与 --follow 相反\n-0, --null\n\t在输出时使用 ASCII NUL 字符分隔条目，而不是将每个条目写在单独的行上。此选项是为了与 GNU xargs（1）的 --null 选项配合使用而设计的\n-S, --statistics\n\t不搜索文件，而是显示每个数据库的统计信息\n-q, --quiet\n\t不报告关于读取和处理数据库时遇到的错误的消息\n-r, --regexp REGEXP\n\t使用正则表达式 REGEXP 进行搜索。该选项可出现多次\n--regex\n\t将所有模式解释为扩展的正则表达式\n-V, --version\n\t输出 locate 的版本和许可信息并退出\n-w, --wholename\n\t仅将整个路径名与指定的模式匹配（默认）。如果只匹配文件基本名，可使用选项 --basename\n")])])]),t("h2",{attrs:{id:"_5-常用示例"}},[t("a",{staticClass:"header-anchor",attrs:{href:"#_5-常用示例"}},[a._v("#")]),a._v(" 5.常用示例")]),a._v(" "),t("p",[a._v("（1）查找文件名为 NAME 的文件。")]),a._v(" "),t("div",{staticClass:"language- extra-class"},[t("pre",{pre:!0,attrs:{class:"language-text"}},[t("code",[a._v("locate -b '\\NAME'\n")])])]),t("p",[a._v("反斜杠 \\ 阻止了隐式地将 NAME 转为 "),t("code",[a._v("*NAME*")]),a._v("。")]),a._v(" "),t("p",[a._v("（2）查找文件名包含某个字符串的相关文件。")]),a._v(" "),t("div",{staticClass:"language- extra-class"},[t("pre",{pre:!0,attrs:{class:"language-text"}},[t("code",[a._v("locate -b\n/usr/sbin/ifconfig\n/usr/share/man/de/man8/ifconfig.8.gz\n/usr/share/man/fr/man8/ifconfig.8.gz\n/usr/share/man/man8/ifconfig.8.gz\n/usr/share/man/man8/ifconfig_selinux.8.gz\n/usr/share/man/pt/man8/ifconfig.8.gz\n/usr/share/selinux/devel/html/ifconfig.html\n/usr/share/zsh/5.0.2/functions/_ifconfig\n")])])]),t("p",[a._v("（3）查找配置文件 mlocate.db。")]),a._v(" "),t("div",{staticClass:"language- extra-class"},[t("pre",{pre:!0,attrs:{class:"language-text"}},[t("code",[a._v("locate mlocate.db\n/usr/share/man/man5/mlocate.db.5.gz\n/var/lib/mlocate/mlocate.db\n")])])]),t("p",[a._v("（4）显示数据库的统计信息。")]),a._v(" "),t("div",{staticClass:"language- extra-class"},[t("pre",{pre:!0,attrs:{class:"language-text"}},[t("code",[a._v("locate -S\nDatabase /var/lib/mlocate/mlocate.db:\n\t21,626 directories\n\t230,452 files\n\t15,475,136 bytes in file names\n\t5,711,659 bytes used to store database\n")])])]),t("p",[a._v("（5）搜索基本正则表达式 REGEXP 来代替模式。查找名称以 mlocate 开头，以 db 结尾的文件。")]),a._v(" "),t("div",{staticClass:"language- extra-class"},[t("pre",{pre:!0,attrs:{class:"language-text"}},[t("code",[a._v("locate -b -r ^mlocate.*db$\n/var/lib/mlocate/mlocate.db\n")])])]),t("p",[a._v("（6）查找最近变动的文件。使用 locate 命令查不到最近变动过的文件。为了避免这种情况，可以在使用 locate 之前，先使用 updatedb 命令，手动更新数据库。")]),a._v(" "),t("div",{staticClass:"language- extra-class"},[t("pre",{pre:!0,attrs:{class:"language-text"}},[t("code",[a._v("# 无法找到新建的文件\ntouch new_file\nlocate new_file\n\n# 手动更新数据库后可以查到新建的文件\nupdatedb\nlocate new_file\n/root/new_file\n")])])]),t("hr"),a._v(" "),t("h2",{attrs:{id:"参考文献"}},[t("a",{staticClass:"header-anchor",attrs:{href:"#参考文献"}},[a._v("#")]),a._v(" 参考文献")]),a._v(" "),t("p",[t("a",{attrs:{href:"https://man7.org/linux/man-pages/man1/locate.1.html",target:"_blank",rel:"noopener noreferrer"}},[a._v("locate(1) - Linux manual page - man7.org"),t("OutboundLink")],1)]),a._v(" "),t("p",[t("a",{attrs:{href:"http://man7.org/linux/man-pages/man7/glob.7.html",target:"_blank",rel:"noopener noreferrer"}},[a._v("glob(7) - Linux manual page - man7.org"),t("OutboundLink")],1)]),a._v(" "),t("Vssue",{attrs:{title:"locate"}})],1)}),[],!1,null,null,null);t.default=s.exports}}]);