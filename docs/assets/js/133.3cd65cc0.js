(window.webpackJsonp=window.webpackJsonp||[]).push([[133],{461:function(t,s,a){"use strict";a.r(s);var n=a(12),e=Object(n.a)({},(function(){var t=this,s=t._self._c;return s("ContentSlotsDistributor",{attrs:{"slot-key":t.$parent.slotKey}},[s("h2",{attrs:{id:"_1-命令简介"}},[s("a",{staticClass:"header-anchor",attrs:{href:"#_1-命令简介"}},[t._v("#")]),t._v(" 1.命令简介")]),t._v(" "),s("p",[t._v("last 列出登录系统的用户列表。")]),t._v(" "),s("p",[t._v("last 用于显示用户最近登录信息。单独执行 last 命令，它会读取/var/log/wtmp的文件，并把该给文件的内容记录的登入系统的用户名单全部显示出来。")]),t._v(" "),s("p",[t._v("last 的作用是显示近期用户或终端的登录情况，通过查看系统记录的日志文件内容，进而使管理员可以获知谁曾经或企图连接系统。")]),t._v(" "),s("h2",{attrs:{id:"_2-命令格式"}},[s("a",{staticClass:"header-anchor",attrs:{href:"#_2-命令格式"}},[t._v("#")]),t._v(" 2.命令格式")]),t._v(" "),s("div",{staticClass:"language-shell extra-class"},[s("pre",{pre:!0,attrs:{class:"language-shell"}},[s("code",[t._v("last "),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("[")]),t._v("-R"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("]")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("[")]),t._v("-num"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("]")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("[")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token parameter variable"}},[t._v("-n")]),t._v(" num "),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("]")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("[")]),t._v("-adFiowx"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("]")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("[")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token parameter variable"}},[t._v("-f")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token function"}},[t._v("file")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("]")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("[")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token parameter variable"}},[t._v("-t")]),t._v(" YYYYMMDDHHMMSS "),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("]")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("[")]),t._v("name"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("..")]),t._v("."),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("]")]),t._v("  "),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("[")]),t._v("tty"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("..")]),t._v("."),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("]")]),t._v("\n")])])]),s("h2",{attrs:{id:"_3-选项说明"}},[s("a",{staticClass:"header-anchor",attrs:{href:"#_3-选项说明"}},[t._v("#")]),t._v(" 3.选项说明")]),t._v(" "),s("div",{staticClass:"language- extra-class"},[s("pre",{pre:!0,attrs:{class:"language-text"}},[s("code",[t._v("-a\n\t把从何处登入系统的主机名称或ip地址，显示在最后一行。\n-d\n\t将 IP 地址转换成主机名称。\n-f <file>\n\t指定要搜索的文件，而不是 /var/log/wtmp。\n-n <num>, -<num>\n\t设置列出名单的显示行数。\n-R\n\t不显示登入系统的主机名称或IP地址。\n-x\n\t显示系统关机，重新开机，以及执行等级的改变等信息。\n")])])]),s("h2",{attrs:{id:"_4-常用示例"}},[s("a",{staticClass:"header-anchor",attrs:{href:"#_4-常用示例"}},[t._v("#")]),t._v(" 4.常用示例")]),t._v(" "),s("p",[t._v("（1）显示近期用户或终端的登录情况。")]),t._v(" "),s("div",{staticClass:"language-shell extra-class"},[s("pre",{pre:!0,attrs:{class:"language-shell"}},[s("code",[t._v("last\nroot     pts/2        "),s("span",{pre:!0,attrs:{class:"token number"}},[t._v("223.73")]),t._v(".1.91      Thu Oct "),s("span",{pre:!0,attrs:{class:"token number"}},[t._v("27")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token number"}},[t._v("11")]),t._v(":18   still logged "),s("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("in")]),t._v("   \nroot     pts/1        "),s("span",{pre:!0,attrs:{class:"token number"}},[t._v("223.73")]),t._v(".1.91      Thu Oct "),s("span",{pre:!0,attrs:{class:"token number"}},[t._v("27")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token number"}},[t._v("10")]),t._v(":39   still logged "),s("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("in")]),t._v("   \nroot     pts/0        "),s("span",{pre:!0,attrs:{class:"token number"}},[t._v("223.73")]),t._v(".1.91      Thu Oct "),s("span",{pre:!0,attrs:{class:"token number"}},[t._v("27")]),t._v(" 09:36   still logged "),s("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("in")]),t._v("   \nroot     pts/3        "),s("span",{pre:!0,attrs:{class:"token number"}},[t._v("223.73")]),t._v(".1.91      Wed Oct "),s("span",{pre:!0,attrs:{class:"token number"}},[t._v("26")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token number"}},[t._v("18")]),t._v(":46 - "),s("span",{pre:!0,attrs:{class:"token number"}},[t._v("22")]),t._v(":10  "),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),t._v("03:23"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v("    \nroot     pts/0        "),s("span",{pre:!0,attrs:{class:"token number"}},[t._v("223.73")]),t._v(".1.91      Wed Oct "),s("span",{pre:!0,attrs:{class:"token number"}},[t._v("26")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token number"}},[t._v("18")]),t._v(":17 - "),s("span",{pre:!0,attrs:{class:"token number"}},[t._v("22")]),t._v(":10  "),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),t._v("03:52"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v("    \nroot     pts/2        "),s("span",{pre:!0,attrs:{class:"token number"}},[t._v("223.73")]),t._v(".5.238     Wed Oct "),s("span",{pre:!0,attrs:{class:"token number"}},[t._v("26")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token number"}},[t._v("15")]),t._v(":22 - "),s("span",{pre:!0,attrs:{class:"token number"}},[t._v("18")]),t._v(":59  "),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),t._v("03:37"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v("    \nroot     pts/1        "),s("span",{pre:!0,attrs:{class:"token number"}},[t._v("223.73")]),t._v(".5.238     Wed Oct "),s("span",{pre:!0,attrs:{class:"token number"}},[t._v("26")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token number"}},[t._v("15")]),t._v(":09 - "),s("span",{pre:!0,attrs:{class:"token number"}},[t._v("19")]),t._v(":11  "),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),t._v("04:01"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v("\n"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("..")]),t._v(".\n")])])]),s("p",[t._v("第一列：用户名。")]),t._v(" "),s("p",[t._v("第二列：终端位置。pts：意味着从 SSH 或 TELNET 的远程连接用户。​tty：意味着直接连接到计算机或者本地连接用户。除了重启，所有状态会在启动时显示。")]),t._v(" "),s("p",[t._v("第三列：登录 IP 或者内核。0.0 或者什么都没有的话，意味着用户通过本地终端连接重启活动，会显示内核版本。")]),t._v(" "),s("p",[t._v("第四列：开始时间。")]),t._v(" "),s("p",[t._v("第五列：结束时间。still log in：还在登录。down：直到正常关机。crash：直到强制关机。")]),t._v(" "),s("p",[t._v("第六列：持续时间。")]),t._v(" "),s("p",[t._v("（2）指定显示的行数。")]),t._v(" "),s("div",{staticClass:"language-shell extra-class"},[s("pre",{pre:!0,attrs:{class:"language-shell"}},[s("code",[t._v("last "),s("span",{pre:!0,attrs:{class:"token parameter variable"}},[t._v("-5")]),t._v("\nroot     pts/2        "),s("span",{pre:!0,attrs:{class:"token number"}},[t._v("223.73")]),t._v(".1.91      Thu Oct "),s("span",{pre:!0,attrs:{class:"token number"}},[t._v("27")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token number"}},[t._v("11")]),t._v(":18   still logged "),s("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("in")]),t._v("   \nroot     pts/1        "),s("span",{pre:!0,attrs:{class:"token number"}},[t._v("223.73")]),t._v(".1.91      Thu Oct "),s("span",{pre:!0,attrs:{class:"token number"}},[t._v("27")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token number"}},[t._v("10")]),t._v(":39   still logged "),s("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("in")]),t._v("   \nroot     pts/0        "),s("span",{pre:!0,attrs:{class:"token number"}},[t._v("223.73")]),t._v(".1.91      Thu Oct "),s("span",{pre:!0,attrs:{class:"token number"}},[t._v("27")]),t._v(" 09:36   still logged "),s("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("in")]),t._v("   \nroot     pts/3        "),s("span",{pre:!0,attrs:{class:"token number"}},[t._v("223.73")]),t._v(".1.91      Wed Oct "),s("span",{pre:!0,attrs:{class:"token number"}},[t._v("26")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token number"}},[t._v("18")]),t._v(":46 - "),s("span",{pre:!0,attrs:{class:"token number"}},[t._v("22")]),t._v(":10  "),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),t._v("03:23"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v("    \nroot     pts/0        "),s("span",{pre:!0,attrs:{class:"token number"}},[t._v("223.73")]),t._v(".1.91      Wed Oct "),s("span",{pre:!0,attrs:{class:"token number"}},[t._v("26")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token number"}},[t._v("18")]),t._v(":17 - "),s("span",{pre:!0,attrs:{class:"token number"}},[t._v("22")]),t._v(":10  "),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),t._v("03:52"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v("    \n\nwtmp begins Sun Oct "),s("span",{pre:!0,attrs:{class:"token number"}},[t._v("16")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token number"}},[t._v("21")]),t._v(":39:53 "),s("span",{pre:!0,attrs:{class:"token number"}},[t._v("2022")]),t._v("\n")])])]),s("p",[t._v("（3）最后一列显示主机 IP 地址。")]),t._v(" "),s("p",[t._v("把从何处登入系统的主机名称或ip地址，显示在最后一行。")]),t._v(" "),s("div",{staticClass:"language-shell extra-class"},[s("pre",{pre:!0,attrs:{class:"language-shell"}},[s("code",[t._v("last "),s("span",{pre:!0,attrs:{class:"token parameter variable"}},[t._v("-5a")]),t._v("\nroot     pts/2        Thu Oct "),s("span",{pre:!0,attrs:{class:"token number"}},[t._v("27")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token number"}},[t._v("11")]),t._v(":18   still logged "),s("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("in")]),t._v("    "),s("span",{pre:!0,attrs:{class:"token number"}},[t._v("223.73")]),t._v(".1.91\nroot     pts/1        Thu Oct "),s("span",{pre:!0,attrs:{class:"token number"}},[t._v("27")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token number"}},[t._v("10")]),t._v(":39   still logged "),s("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("in")]),t._v("    "),s("span",{pre:!0,attrs:{class:"token number"}},[t._v("223.73")]),t._v(".1.91\nroot     pts/0        Thu Oct "),s("span",{pre:!0,attrs:{class:"token number"}},[t._v("27")]),t._v(" 09:36   still logged "),s("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("in")]),t._v("    "),s("span",{pre:!0,attrs:{class:"token number"}},[t._v("223.73")]),t._v(".1.91\nroot     pts/3        Wed Oct "),s("span",{pre:!0,attrs:{class:"token number"}},[t._v("26")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token number"}},[t._v("18")]),t._v(":46 - "),s("span",{pre:!0,attrs:{class:"token number"}},[t._v("22")]),t._v(":10  "),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),t._v("03:23"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v("     "),s("span",{pre:!0,attrs:{class:"token number"}},[t._v("223.73")]),t._v(".1.91\nroot     pts/0        Wed Oct "),s("span",{pre:!0,attrs:{class:"token number"}},[t._v("26")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token number"}},[t._v("18")]),t._v(":17 - "),s("span",{pre:!0,attrs:{class:"token number"}},[t._v("22")]),t._v(":10  "),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),t._v("03:52"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v("     "),s("span",{pre:!0,attrs:{class:"token number"}},[t._v("223.73")]),t._v(".1.91\n\nwtmp begins Sun Oct "),s("span",{pre:!0,attrs:{class:"token number"}},[t._v("16")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token number"}},[t._v("21")]),t._v(":39:53 "),s("span",{pre:!0,attrs:{class:"token number"}},[t._v("2022")]),t._v("\n")])])]),s("p",[t._v("（4）显示指定用户的登录记录。")]),t._v(" "),s("p",[t._v("比如查看 root 用户最近的 5 条记录。")]),t._v(" "),s("div",{staticClass:"language-shell extra-class"},[s("pre",{pre:!0,attrs:{class:"language-shell"}},[s("code",[t._v("last "),s("span",{pre:!0,attrs:{class:"token parameter variable"}},[t._v("-5")]),t._v(" root\nroot     pts/2        "),s("span",{pre:!0,attrs:{class:"token number"}},[t._v("223.73")]),t._v(".1.91      Thu Oct "),s("span",{pre:!0,attrs:{class:"token number"}},[t._v("27")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token number"}},[t._v("11")]),t._v(":18   still logged "),s("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("in")]),t._v("   \nroot     pts/1        "),s("span",{pre:!0,attrs:{class:"token number"}},[t._v("223.73")]),t._v(".1.91      Thu Oct "),s("span",{pre:!0,attrs:{class:"token number"}},[t._v("27")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token number"}},[t._v("10")]),t._v(":39   still logged "),s("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("in")]),t._v("   \nroot     pts/0        "),s("span",{pre:!0,attrs:{class:"token number"}},[t._v("223.73")]),t._v(".1.91      Thu Oct "),s("span",{pre:!0,attrs:{class:"token number"}},[t._v("27")]),t._v(" 09:36   still logged "),s("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("in")]),t._v("   \nroot     pts/3        "),s("span",{pre:!0,attrs:{class:"token number"}},[t._v("223.73")]),t._v(".1.91      Wed Oct "),s("span",{pre:!0,attrs:{class:"token number"}},[t._v("26")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token number"}},[t._v("18")]),t._v(":46 - "),s("span",{pre:!0,attrs:{class:"token number"}},[t._v("22")]),t._v(":10  "),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),t._v("03:23"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v("    \nroot     pts/0        "),s("span",{pre:!0,attrs:{class:"token number"}},[t._v("223.73")]),t._v(".1.91      Wed Oct "),s("span",{pre:!0,attrs:{class:"token number"}},[t._v("26")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token number"}},[t._v("18")]),t._v(":17 - "),s("span",{pre:!0,attrs:{class:"token number"}},[t._v("22")]),t._v(":10  "),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),t._v("03:52"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v("    \n\nwtmp begins Sun Oct "),s("span",{pre:!0,attrs:{class:"token number"}},[t._v("16")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token number"}},[t._v("21")]),t._v(":39:53 "),s("span",{pre:!0,attrs:{class:"token number"}},[t._v("2022")]),t._v("\n")])])]),s("p",[t._v("（5）指定登录记录文件。")]),t._v(" "),s("p",[t._v("/var/log/btmp 该文件比较详细，可以显示 ssh 远程登录的信息。")]),t._v(" "),s("div",{staticClass:"language- extra-class"},[s("pre",{pre:!0,attrs:{class:"language-text"}},[s("code",[t._v("last -5 -f /var/log/btmp\nlast -5 -f /var/log/btmp\nadmin    ssh:notty    92.255.85.113    Thu Oct 27 13:43    gone - no logout \nadmin    ssh:notty    92.255.85.113    Thu Oct 27 13:43 - 13:43  (00:00)    \ntest     ssh:notty    92.255.85.113    Thu Oct 27 13:38 - 13:43  (00:05)    \ntest     ssh:notty    92.255.85.113    Thu Oct 27 13:38 - 13:38  (00:00)    \nguest    ssh:notty    92.255.85.113    Thu Oct 27 13:33 - 13:38  (00:04)    \n\nbtmp begins Mon Oct 17 03:43:01 2022\n")])])]),s("p",[t._v("（6）显示完整登录和登出信息。")]),t._v(" "),s("div",{staticClass:"language-shell extra-class"},[s("pre",{pre:!0,attrs:{class:"language-shell"}},[s("code",[t._v("last "),s("span",{pre:!0,attrs:{class:"token parameter variable"}},[t._v("-F")]),t._v("\nroot     pts/2        "),s("span",{pre:!0,attrs:{class:"token number"}},[t._v("223.73")]),t._v(".1.91      Thu Oct "),s("span",{pre:!0,attrs:{class:"token number"}},[t._v("27")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token number"}},[t._v("11")]),t._v(":18:16 "),s("span",{pre:!0,attrs:{class:"token number"}},[t._v("2022")]),t._v("   still logged "),s("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("in")]),t._v("                      \nroot     pts/1        "),s("span",{pre:!0,attrs:{class:"token number"}},[t._v("223.73")]),t._v(".1.91      Thu Oct "),s("span",{pre:!0,attrs:{class:"token number"}},[t._v("27")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token number"}},[t._v("10")]),t._v(":39:21 "),s("span",{pre:!0,attrs:{class:"token number"}},[t._v("2022")]),t._v("   still logged "),s("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("in")]),t._v("                      \nroot     pts/0        "),s("span",{pre:!0,attrs:{class:"token number"}},[t._v("223.73")]),t._v(".1.91      Thu Oct "),s("span",{pre:!0,attrs:{class:"token number"}},[t._v("27")]),t._v(" 09:36:20 "),s("span",{pre:!0,attrs:{class:"token number"}},[t._v("2022")]),t._v("   still logged "),s("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("in")]),t._v("                      \nroot     pts/3        "),s("span",{pre:!0,attrs:{class:"token number"}},[t._v("223.73")]),t._v(".1.91      Wed Oct "),s("span",{pre:!0,attrs:{class:"token number"}},[t._v("26")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token number"}},[t._v("18")]),t._v(":46:50 "),s("span",{pre:!0,attrs:{class:"token number"}},[t._v("2022")]),t._v(" - Wed Oct "),s("span",{pre:!0,attrs:{class:"token number"}},[t._v("26")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token number"}},[t._v("22")]),t._v(":10:24 "),s("span",{pre:!0,attrs:{class:"token number"}},[t._v("2022")]),t._v("  "),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),t._v("03:23"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v("    \nroot     pts/0        "),s("span",{pre:!0,attrs:{class:"token number"}},[t._v("223.73")]),t._v(".1.91      Wed Oct "),s("span",{pre:!0,attrs:{class:"token number"}},[t._v("26")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token number"}},[t._v("18")]),t._v(":17:53 "),s("span",{pre:!0,attrs:{class:"token number"}},[t._v("2022")]),t._v(" - Wed Oct "),s("span",{pre:!0,attrs:{class:"token number"}},[t._v("26")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token number"}},[t._v("22")]),t._v(":10:24 "),s("span",{pre:!0,attrs:{class:"token number"}},[t._v("2022")]),t._v("  "),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),t._v("03:52"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v("\n")])])]),s("h2",{attrs:{id:"_5-utmp、wtmp-与-btmp-文件"}},[s("a",{staticClass:"header-anchor",attrs:{href:"#_5-utmp、wtmp-与-btmp-文件"}},[t._v("#")]),t._v(" 5.utmp、wtmp 与 btmp 文件")]),t._v(" "),s("p",[t._v("Linux 用户登录信息放在三个文件中：")]),t._v(" "),s("ul",[s("li",[s("p",[t._v("/var/run/utmp：记录当前正在登录系统的用户信息，默认由 who 和w 记录当前登录用户的信息，uptime 记录系统启动时间。")])]),t._v(" "),s("li",[s("p",[t._v("/var/log/wtmp：记录当前正在登录和历史登录系统的用户信息，默认由last命令查看；")])]),t._v(" "),s("li",[s("p",[t._v("/var/log/btmp：记录失败的登录尝试信息，默认由 lastb 命令查看。")])])]),t._v(" "),s("p",[t._v("这三个文件都是二进制数据文件，并且三个文件结构完全相同，是由 /usr/include/bits/utmp.h 文件定义了这三个文件的结构体。")]),t._v(" "),s("p",[t._v("默认情况下文件的日志信息会通过 logrotate 日志管理工具定期清理。logrotate 的配置文件是 /etc/logrotate.conf，此处是 logrotate 的缺省设置，通常不需要对它进行修改。日志文件的轮循压缩等设置存放在独立的配置文件中，它（们）放在 /etc/logrotate.d/ 目录下，它会覆盖缺省设置。")]),t._v(" "),s("p",[t._v("如果不想记录相关信息，则可以直接将相关文件删除即可。如果系统不存在该文件，则需要在此路径 touch 一个文件就可以继续记录相关信息了。")]),t._v(" "),s("hr"),t._v(" "),s("h2",{attrs:{id:"参考文献"}},[s("a",{staticClass:"header-anchor",attrs:{href:"#参考文献"}},[t._v("#")]),t._v(" 参考文献")]),t._v(" "),s("p",[s("a",{attrs:{href:"https://man7.org/linux/man-pages/man1/last.1.html",target:"_blank",rel:"noopener noreferrer"}},[t._v("last(1) — Linux manual page  - man7.org"),s("OutboundLink")],1)]),t._v(" "),s("Vssue",{attrs:{title:"last"}})],1)}),[],!1,null,null,null);s.default=e.exports}}]);