(window.webpackJsonp=window.webpackJsonp||[]).push([[78],{410:function(t,n,a){"use strict";a.r(n);var s=a(12),e=Object(s.a)({},(function(){var t=this,n=t._self._c;return n("ContentSlotsDistributor",{attrs:{"slot-key":t.$parent.slotKey}},[n("h2",{attrs:{id:"_1-命令简介"}},[n("a",{staticClass:"header-anchor",attrs:{href:"#_1-命令简介"}},[t._v("#")]),t._v(" 1.命令简介")]),t._v(" "),n("p",[t._v("cp（copy）复制文件和目录。")]),t._v(" "),n("p",[t._v("cp 命令主要用于复制文件或目录，可以将一个或多个源文件或者目录复制到指定目的文件或目录。当一次复制多个文件时，目标文件参数必须是一个已经存在的目录，否则将出现错误。")]),t._v(" "),n("h2",{attrs:{id:"_2-命令格式"}},[n("a",{staticClass:"header-anchor",attrs:{href:"#_2-命令格式"}},[t._v("#")]),t._v(" 2.命令格式")]),t._v(" "),n("div",{staticClass:"language-shell extra-class"},[n("pre",{pre:!0,attrs:{class:"language-shell"}},[n("code",[n("span",{pre:!0,attrs:{class:"token function"}},[t._v("cp")]),t._v(" "),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("[")]),t._v("OPTION"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("]")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("..")]),t._v(". "),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("[")]),t._v("-T"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("]")]),t._v(" SOURCE DEST\n"),n("span",{pre:!0,attrs:{class:"token function"}},[t._v("cp")]),t._v(" "),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("[")]),t._v("OPTION"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("]")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("..")]),t._v(". SOURCE"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("..")]),t._v(". DIRECTORY\n"),n("span",{pre:!0,attrs:{class:"token function"}},[t._v("cp")]),t._v(" "),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("[")]),t._v("OPTION"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("]")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("..")]),t._v(". "),n("span",{pre:!0,attrs:{class:"token parameter variable"}},[t._v("-t")]),t._v(" DIRECTORY SOURCE"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("..")]),t._v(".\n")])])]),n("h2",{attrs:{id:"_3-选项说明"}},[n("a",{staticClass:"header-anchor",attrs:{href:"#_3-选项说明"}},[t._v("#")]),t._v(" 3.选项说明")]),t._v(" "),n("div",{staticClass:"language- extra-class"},[n("pre",{pre:!0,attrs:{class:"language-text"}},[n("code",[t._v('-a, --archive\n\t此参数的效果和同时指定"-dR --preserve=all"参数相同；\n--backup[=CONTROL]\n\t备份即将被覆盖的目的文件；\n-b\n\t等同于 --backup，但不接受参数；\n--copy-contents\n\t递归拷贝时，拷贝特殊文件的内容；\n-d\n\t当复制符号连接时，保留符号连接； \n-f, --force\n\t强行复制文件或目录，不论目标文件或目录是否已存在； \n-i, --interactive\n\t覆盖既有文件之前先询问用户； \n-H\n\t遵循源文件中的命令行符号链接；\n-l, --link\n\t对源文件建立硬连接，而非复制文件；\n-L, --dereference\n\t总是遵循源文件中的命令行符号链接；\n-n, --no-clobber\n\t不覆盖既有文件；\n-P, --no-dereference\n\t不遵循源文件的符号连接；\n-p\n\t等同于 --preserve=mode,ownership,timestamps；\n--preserve[=ATTR_LIST]\n\t保留指定的文件属性，而非默认的 mode,ownership,timestamps。其它的属性也可以指定，如 context, links, xattr, all；\n-c\n\t等同于 --preserve=context；\n--no-preserve=ATTR_LIST\n\t不保留指定的文件属性；\n--parents\n\t在目录下使用完整的源文件名；\n-R, -r, --recursive\n\t递归处理，将指定目录下的所有文件与子目录一并处理；\n--reflink[=WHEN]\n\t控制克隆/CoW 副本。请查看下面的内容；\n--remove-destination\n\t移动每一个已经存在的目标文件；\n--sparse=WHEN\n\t控制创建稀疏文件；\n--strip-trailing-slashes\n\t删除参数SOURCE中所有目录末端的斜杠；\n-s, --symbolic-link\n\t对源文件建立符号连接，而非复制文件；\n-S, --suffix=SUFFIX\n\t在备份文件时，用指定的后缀“SUFFIX”代替文件的默认后缀；\n-t, --target-directory=DIRECTORY\n\t拷贝所有 SOURCE 指定的文件到目标目录 DIRECTORY；\n-T, --no-target-directory\n\t没有目标目录，将目标文件DEST视为正常文件；\n-u, --update\n\t使用这项参数后只会在源文件的更改时间较目标文件新时或是名称相互对应的目标文件并不存在时，才复制文件；\n-v, --verbose\n\t冗余模式执行cp命令，解释cp的执行过程。\n-x, --one-file-system\n\t保留在当前的文件系统上。\n-Z, --context=CONTEXT\n\t将指定的文本内容变为安全的内容，该选项仅限于 SELinux 内核使用。\n--help\n\t显示帮助信息。\n--version\n\t显示版本信息。\n')])])]),n("p",[t._v("选项补充说明。")]),t._v(" "),n("p",[t._v("（1）默认情况下，源文件的稀疏性仅仅通过简单的方法判断，对应的目标文件目标文件也被为稀疏。这是因为默认情况下使用了"),n("code",[t._v("--sparse=auto")]),t._v("参数。如果明确使用 "),n("code",[t._v("--sparse=always")]),t._v(" 参数则不论源文件是否包含足够长的0 序列也将目标文件创建为稀疏件。使用"),n("code",[t._v("--sparse=never")]),t._v("参数禁止创建稀疏文件。")]),t._v(" "),n("p",[t._v("（2）当指定了"),n("code",[t._v("--reflink[=always]")]),t._v("参数时，执行轻量化的复制，即只在数据块被修改的情况下才复制。如果复制失败或者同时指定了"),n("code",[t._v("--reflink=auto")]),t._v("，则返回标准复制模式。")]),t._v(" "),n("p",[t._v('（3）备份文件的后缀为"~"，除非以'),n("code",[t._v("--suffix")]),t._v("选项或是"),n("code",[t._v("SIMPLE_BACKUP_SUFFIX")]),t._v("环境变量指定。版本控制的方式可通过"),n("code",[t._v("--backup")]),t._v("选项或"),n("code",[t._v("VERSION_CONTROL")]),t._v("环境变量来选择。")]),t._v(" "),n("p",[t._v("以下是可用的变量值：")]),t._v(" "),n("ul",[n("li",[t._v("none, off：不进行备份（即使使用了--backup 选项）；")]),t._v(" "),n("li",[t._v("numbered, t：备份文件加上数字进行排序；")]),t._v(" "),n("li",[t._v("existing, nil：若有数字的备份文件已经存在则使用数字，否则使用普通方式备份；")]),t._v(" "),n("li",[t._v("simple, never：永远使用普通方式备份。")])]),t._v(" "),n("p",[t._v("（4）有一个特别情况，如果同时指定"),n("code",[t._v("--force")]),t._v("和"),n("code",[t._v("--backup")]),t._v("选项，而源文件和目标文件是同一个已存在的一般文件的话，cp会将源文件备份。")]),t._v(" "),n("h2",{attrs:{id:"_4-常用示例"}},[n("a",{staticClass:"header-anchor",attrs:{href:"#_4-常用示例"}},[t._v("#")]),t._v(" 4.常用示例")]),t._v(" "),n("p",[t._v("（1）复制目录 dir1 到 dir2。")]),t._v(" "),n("p",[t._v("如果 dir2 不存在，相当于将 dir1 拷贝一份并命名为 dir2。")]),t._v(" "),n("p",[t._v("如果 dir2 事先存在，相当于将 dir1 拷贝一份放到 dir2 目录下。")]),t._v(" "),n("div",{staticClass:"language-shell extra-class"},[n("pre",{pre:!0,attrs:{class:"language-shell"}},[n("code",[n("span",{pre:!0,attrs:{class:"token function"}},[t._v("cp")]),t._v(" "),n("span",{pre:!0,attrs:{class:"token parameter variable"}},[t._v("-r")]),t._v(" dir1 dir2\n")])])]),n("p",[t._v("（2）复制文件 a、b、c、d 到 dir2。")]),t._v(" "),n("p",[n("strong",[t._v("注意")]),t._v("，目录 dir2 需要事先存在，否则报错。")]),t._v(" "),n("div",{staticClass:"language-shell extra-class"},[n("pre",{pre:!0,attrs:{class:"language-shell"}},[n("code",[n("span",{pre:!0,attrs:{class:"token function"}},[t._v("cp")]),t._v(" a b c d dir2\n")])])]),n("p",[t._v("（3）交互式地将目录 /usr/men 中的以 m 打头的所有 .c 文件复制到目录 /usr/zh 中。")]),t._v(" "),n("div",{staticClass:"language-shell extra-class"},[n("pre",{pre:!0,attrs:{class:"language-shell"}},[n("code",[n("span",{pre:!0,attrs:{class:"token function"}},[t._v("cp")]),t._v(" "),n("span",{pre:!0,attrs:{class:"token parameter variable"}},[t._v("-i")]),t._v(" /usr/men m*.c /usr/zh\n")])])]),n("p",[t._v("我们在 Linux 下使用 cp 命令复制文件时候，有时候会需要覆盖一些同名文件，覆盖文件的时候都会有提示：需要不停的按 Y 来确定执行覆盖。")]),t._v(" "),n("hr"),t._v(" "),n("h2",{attrs:{id:"参考文献"}},[n("a",{staticClass:"header-anchor",attrs:{href:"#参考文献"}},[t._v("#")]),t._v(" 参考文献")]),t._v(" "),n("p",[n("a",{attrs:{href:"https://man7.org/linux/man-pages/man1/cp.1.html",target:"_blank",rel:"noopener noreferrer"}},[t._v("cp(1) - Linux manual page - man7.org"),n("OutboundLink")],1)]),t._v(" "),n("Vssue",{attrs:{title:"cp"}})],1)}),[],!1,null,null,null);n.default=e.exports}}]);